<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>My Profile — Trip Up Cumilla</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-firestore.js"></script>
</head>
<body>
  <div class="container">
    <div class="topbar">
      <h2>My Profile</h2>
      <div>
        <button class="btn" onclick="location.href='index.html'">Home</button>
        <button class="btn logout" onclick="logout()">Logout</button>
      </div>
    </div>

    <div style="display:flex; gap:18px; align-items:flex-start; flex-wrap:wrap;">
      <div style="width:320px;">
        <div class="card" style="text-align:center;">
          <img id="profilePic" class="img-circle" src="images/placeholder.png" alt="Profile">
          <div style="margin-top:12px">
            <input type="file" id="imgUpload"><br>
            <small class="small">আপনার প্রোফাইল ছবি আপলোড করতে এখানে ক্লিক করুন</small>
          </div>
        </div>

        <div style="margin-top:12px" class="card">
          <h4>Unique ID</h4>
          <p id="userPublicId" class="small"></p>
          <h4>Email</h4>
          <p id="userEmail" class="small"></p>
          <button class="btn secondary" onclick="copyId()">Copy ID</button>
        </div>
      </div>

      <div style="flex:1; min-width:300px;">
        <div class="card">
          <h3>Edit Profile</h3>
          <div class="form-row"><input id="userName" placeholder="Full name" style="width:100%; padding:10px;"></div>
          <div class="form-row"><input id="userPhone" placeholder="Phone" style="width:100%; padding:10px;"></div>
          <div class="form-row"><input id="userAddress" placeholder="Address" style="width:100%; padding:10px;"></div>
          <div class="form-row"><button class="btn" onclick="saveProfile()">Save Profile</button></div>
        </div>

        <div class="card" style="margin-top:12px;">
          <h3>Purchase History</h3>
          <div id="purchaseList"></div>
        </div>
      </div>
    </div>
  </div>

  <script src="profile.js"></script>
</body>
</html>
